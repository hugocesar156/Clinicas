@using Clinicas.Models.Funcionario
@model Funcionario

@{
    ViewData["Title"] = "Registrar-se";
    Model.Endereco = new List<EnderecoFuncionario> { new EnderecoFuncionario() };
    Model.Contato = new List<ContatoFuncionario> { new ContatoFuncionario() };
}

<div class="row text-center">
    <div class="col">
        <h4>Registrar-se</h4>
    </div>
</div>
<form asp-action="RegistrarFuncionario" data-ajax="true" data-ajax-method="post" data-ajax-begin="$('#area-submit').remove()"
      data-ajax-loading="#area-carregamento" data-ajax-update="#div-container">
    @Html.AntiForgeryToken()
    <div class="row justify-content-center">
        <div class="col-8">
            <h5>Dados para acesso</h5>
        </div>
    </div>
    <div class="row mt-2 justify-content-center">
        <div class="col-8">
            <label for="email">Email</label>
            <input asp-for="Usuario.Email" type="text" id="email" class="form-control" placeholder="seuemail@email.com" required />
            <span asp-validation-for="Usuario.Email" class="text-danger"></span>
        </div>
    </div>
    <div class="row mt-2 justify-content-center">
        <div class="col-4">
            <label for="senha">Senha</label>
            <input asp-for="Usuario.Senha" type="password" id="senha" class="form-control" placeholder="******" required maxlength="20" />
            <span asp-validation-for="Usuario.Senha" class="text-danger"></span>
        </div>
        <div class="col-4">
            <label for="confirma-senha">Confirme sua senha</label>
            <input asp-for="Usuario.ConfirmaSenha" type="password" id="confirma-senha" class="form-control" placeholder="******" required maxlength="20" />
            <span asp-validation-for="Usuario.ConfirmaSenha" class="text-danger"></span>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-8">
            <hr />
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-8">
            <h5>Informações pessoais</h5>
        </div>
    </div>
    <div class="row mt-2 justify-content-center">
        <div class="col-5">
            <label for="nome">Nome</label>
            <input asp-for="Nome" type="text" id="nome" class="form-control" required />
            <span asp-validation-for="Nome" class="text-danger"></span>
        </div>
        <div class="col-3">
            <label for="cpf">CPF</label>
            <input asp-for="Cpf" type="text" id="cpf" class="form-control" placeholder="000.000.000-00" required />
            <span asp-validation-for="Cpf" class="text-danger"></span>
        </div>
    </div>
    <div class="row mt-2 justify-content-center">
        <div class="col-4">
            <label for="nome">RG</label>
            <input asp-for="Rg" type="text" id="rg" class="form-control" placeholder="00.000.000-0" required />
            <span asp-validation-for="Rg" class="text-danger"></span>
        </div>
        <div class="col-4">
            <label for="cpf">Data de nascimento</label>
            <input asp-for="Nascimento" type="date" id="cpf" class="form-control" placeholder="00/00/0000" required />
            <span asp-validation-for="Nascimento" class="text-danger"></span>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-8">
            <hr />
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-8">
            <h5>Registro de clínica</h5>
        </div>
    </div>
    <div class="row mt-2 justify-content-center">
        <div class="col-3">
            <label for="cnpj">CNPJ</label>
            <input asp-for="Clinica.Cnpj" type="text" id="cnpj" class="form-control" placeholder="00.000.000/0000-00" required />
            <span asp-validation-for="Clinica.Cnpj" class="text-danger"></span>
        </div>
        <div class="col-5">
            <label for="razao-social">Razão Social</label>
            <input asp-for="Clinica.RazaoSocial" type="text" id="razao-social" class="form-control" required />
            <span asp-validation-for="Clinica.RazaoSocial" class="text-danger"></span>
        </div>
    </div>
    <div class="row mt-2 justify-content-center">
        <div class="col-8">
            <label for="nome-fantasia">Nome fantasia</label>
            <input asp-for="Clinica.NomeFantasia" type="text" id="nome-fantasia" class="form-control" required />
            <span asp-validation-for="Clinica.NomeFantasia" class="text-danger"></span>
        </div>
    </div>

    @if (ViewBag.Notificacao != null)
    {
        @await Html.PartialAsync("Notificacao");
    }

    <div id="area-submit" class="row mt-4 justify-content-center">
        <button class="col-4 btn btn-success" type="submit">Finalizar cadastro</button>
    </div>
    <div id="area-carregamento" class="row mt-3 justify-content-center" style="display: none">
        <button class="col-4 btn btn-success" type="button" disabled>
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Finalizar cadastro
        </button>
    </div>
    <div class="row mt-3 justify-content-center">
        <button class="col-4 btn btn-danger" type="button">Cancelar</button>
    </div>
</form>